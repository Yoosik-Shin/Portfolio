{
    "sourceFile": ".github/workflows/deploy.yml",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 10,
            "patches": [
                {
                    "date": 1757859092418,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1757859139841,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,8 +31,9 @@\n         run: cp dist/index.html dist/404.html\r\n \r\n       # React Router SPA를 위해 index.html을 404.html로 복사\r\n       - name: Handle React Router SPA\r\n+        working-directory: ./my-portfolio\r\n         run: cp dist/index.html dist/404.html\r\n \r\n       - name: Deploy to Cafe24 via FTP\r\n         uses: SamKirkland/FTP-Deploy-Action@v4.3.4\r\n"
                },
                {
                    "date": 1757859160333,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -40,7 +40,7 @@\n         with:\r\n           server: ${{ secrets.FTP_SERVER }}\r\n           username: ${{ secrets.FTP_USERNAME }}\r\n           password: ${{ secrets.FTP_PASSWORD }}\r\n-          local-dir: ./dist/               # Vite 빌드 결과물\r\n+          local-dir: ./my-portfolio/dist   # Vite 빌드 결과물\r\n           server-dir: /www/                # 카페24 서버 경로 (확인 필요)\r\n           dangerous-clean-slate: true      # 서버 폴더 싹 지우고 업로드 (선택)\r\n"
                },
                {
                    "date": 1757859206786,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,12 +25,8 @@\n       - name: Build project\r\n         run: npm run build\r\n         working-directory: ./my-portfolio\r\n \r\n-      - name: Copy 404.html\r\n-        working-directory: ./my-portfolio\r\n-        run: cp dist/index.html dist/404.html\r\n-\r\n       # React Router SPA를 위해 index.html을 404.html로 복사\r\n       - name: Handle React Router SPA\r\n         working-directory: ./my-portfolio\r\n         run: cp dist/index.html dist/404.html\r\n"
                },
                {
                    "date": 1757859663319,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,10 +33,10 @@\n \r\n       - name: Deploy to Cafe24 via FTP\r\n         uses: SamKirkland/FTP-Deploy-Action@v4.3.4\r\n         with:\r\n-          server: ${{ secrets.FTP_SERVER }}\r\n-          username: ${{ secrets.FTP_USERNAME }}\r\n-          password: ${{ secrets.FTP_PASSWORD }}\r\n+          server: ${{ secrets.CAFE24_FTP_SERVER }}\r\n+          username: ${{ secrets.CAFE24_FTP_USERNAME }}\r\n+          password: ${{ secrets.CAFE24_FTP_PASSWORD }}\r\n           local-dir: ./my-portfolio/dist   # Vite 빌드 결과물\r\n           server-dir: /www/                # 카페24 서버 경로 (확인 필요)\r\n           dangerous-clean-slate: true      # 서버 폴더 싹 지우고 업로드 (선택)\r\n"
                },
                {
                    "date": 1757859800716,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -36,7 +36,7 @@\n         with:\r\n           server: ${{ secrets.CAFE24_FTP_SERVER }}\r\n           username: ${{ secrets.CAFE24_FTP_USERNAME }}\r\n           password: ${{ secrets.CAFE24_FTP_PASSWORD }}\r\n-          local-dir: ./my-portfolio/dist   # Vite 빌드 결과물\r\n+          local-dir: ./my-portfolio/dist/   # Vite 빌드 결과물\r\n           server-dir: /www/                # 카페24 서버 경로 (확인 필요)\r\n           dangerous-clean-slate: true      # 서버 폴더 싹 지우고 업로드 (선택)\r\n"
                },
                {
                    "date": 1757860454799,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -38,5 +38,5 @@\n           username: ${{ secrets.CAFE24_FTP_USERNAME }}\r\n           password: ${{ secrets.CAFE24_FTP_PASSWORD }}\r\n           local-dir: ./my-portfolio/dist/   # Vite 빌드 결과물\r\n           server-dir: /www/                # 카페24 서버 경로 (확인 필요)\r\n-          dangerous-clean-slate: true      # 서버 폴더 싹 지우고 업로드 (선택)\r\n+          dangerous-clean-slate: false      # 서버 폴더 싹 지우고 업로드 (선택)\r\n"
                },
                {
                    "date": 1757860798186,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,9 +15,9 @@\n \r\n       - name: Setup Node.js\r\n         uses: actions/setup-node@v3\r\n         with:\r\n-          node-version: 18\r\n+          node-version: 20\r\n \r\n       - name: Install dependencies\r\n         run: npm install\r\n         working-directory: ./my-portfolio\r\n"
                },
                {
                    "date": 1757860810879,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -38,5 +38,5 @@\n           username: ${{ secrets.CAFE24_FTP_USERNAME }}\r\n           password: ${{ secrets.CAFE24_FTP_PASSWORD }}\r\n           local-dir: ./my-portfolio/dist/   # Vite 빌드 결과물\r\n           server-dir: /www/                # 카페24 서버 경로 (확인 필요)\r\n-          dangerous-clean-slate: false      # 서버 폴더 싹 지우고 업로드 (선택)\r\n+          dangerous-clean-slate: true      # 서버 폴더 싹 지우고 업로드 (선택)\r\n"
                },
                {
                    "date": 1757866625768,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,9 +15,9 @@\n \r\n       - name: Setup Node.js\r\n         uses: actions/setup-node@v3\r\n         with:\r\n-          node-version: 20\r\n+          node-version: 20   # Vite 요구사항 맞춤\r\n \r\n       - name: Install dependencies\r\n         run: npm install\r\n         working-directory: ./my-portfolio\r\n@@ -30,13 +30,26 @@\n       - name: Handle React Router SPA\r\n         working-directory: ./my-portfolio\r\n         run: cp dist/index.html dist/404.html\r\n \r\n-      - name: Deploy to Cafe24 via FTP\r\n+      # assets 폴더만 별도로 업로드\r\n+      - name: Deploy assets to Cafe24 via FTP\r\n         uses: SamKirkland/FTP-Deploy-Action@v4.3.4\r\n         with:\r\n           server: ${{ secrets.CAFE24_FTP_SERVER }}\r\n           username: ${{ secrets.CAFE24_FTP_USERNAME }}\r\n           password: ${{ secrets.CAFE24_FTP_PASSWORD }}\r\n-          local-dir: ./my-portfolio/dist/   # Vite 빌드 결과물\r\n-          server-dir: /www/                # 카페24 서버 경로 (확인 필요)\r\n-          dangerous-clean-slate: true      # 서버 폴더 싹 지우고 업로드 (선택)\r\n+          local-dir: ./my-portfolio/dist/assets/\r\n+          server-dir: /www/assets/\r\n+          dangerous-clean-slate: false\r\n+\r\n+      # index.html과 기타 루트 파일 업로드\r\n+      - name: Deploy root files to Cafe24 via FTP\r\n+        uses: SamKirkland/FTP-Deploy-Action@v4.3.4\r\n+        with:\r\n+          server: ${{ secrets.CAFE24_FTP_SERVER }}\r\n+          username: ${{ secrets.CAFE24_FTP_USERNAME }}\r\n+          password: ${{ secrets.CAFE24_FTP_PASSWORD }}\r\n+          local-dir: ./my-portfolio/dist/\r\n+          server-dir: /www/\r\n+          dangerous-clean-slate: false\r\n+          exclude: assets/**  # 이미 assets는 위에서 업로드했으므로 제외\r\n"
                },
                {
                    "date": 1757866970451,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,54 +2,47 @@\n \r\n on:\r\n   push:\r\n     branches:\r\n-      - main   # main 브랜치에 push 될 때 실행\r\n+      - main   # main 브랜치에 push될 때 실행\r\n \r\n jobs:\r\n   build-and-deploy:\r\n     runs-on: ubuntu-latest\r\n \r\n     steps:\r\n+      # 1️⃣ 코드 체크아웃\r\n       - name: Checkout repository\r\n         uses: actions/checkout@v3\r\n \r\n+      # 2️⃣ Node.js 세팅\r\n       - name: Setup Node.js\r\n         uses: actions/setup-node@v3\r\n         with:\r\n-          node-version: 20   # Vite 요구사항 맞춤\r\n+          node-version: 20  # Vite 권장 버전\r\n \r\n+      # 3️⃣ 의존성 설치\r\n       - name: Install dependencies\r\n         run: npm install\r\n         working-directory: ./my-portfolio\r\n \r\n+      # 4️⃣ 빌드\r\n       - name: Build project\r\n         run: npm run build\r\n         working-directory: ./my-portfolio\r\n \r\n-      # React Router SPA를 위해 index.html을 404.html로 복사\r\n+      # 5️⃣ React Router SPA 처리\r\n       - name: Handle React Router SPA\r\n         working-directory: ./my-portfolio\r\n         run: cp dist/index.html dist/404.html\r\n \r\n-      # assets 폴더만 별도로 업로드\r\n-      - name: Deploy assets to Cafe24 via FTP\r\n+      # 6️⃣ FTP 배포\r\n+      - name: Deploy to Cafe24 via FTP\r\n         uses: SamKirkland/FTP-Deploy-Action@v4.3.4\r\n         with:\r\n-          server: ${{ secrets.CAFE24_FTP_SERVER }}\r\n-          username: ${{ secrets.CAFE24_FTP_USERNAME }}\r\n-          password: ${{ secrets.CAFE24_FTP_PASSWORD }}\r\n-          local-dir: ./my-portfolio/dist/assets/\r\n-          server-dir: /www/assets/\r\n-          dangerous-clean-slate: false\r\n-\r\n-      # index.html과 기타 루트 파일 업로드\r\n-      - name: Deploy root files to Cafe24 via FTP\r\n-        uses: SamKirkland/FTP-Deploy-Action@v4.3.4\r\n-        with:\r\n-          server: ${{ secrets.CAFE24_FTP_SERVER }}\r\n-          username: ${{ secrets.CAFE24_FTP_USERNAME }}\r\n-          password: ${{ secrets.CAFE24_FTP_PASSWORD }}\r\n-          local-dir: ./my-portfolio/dist/\r\n-          server-dir: /www/\r\n-          dangerous-clean-slate: false\r\n-          exclude: assets/**  # 이미 assets는 위에서 업로드했으므로 제외\r\n+          server: ${{ secrets.CAFE24_FTP_SERVER }}      # 예: myport.cafe24.com\r\n+          username: ${{ secrets.CAFE24_FTP_USERNAME }}  # FTP 계정 ID\r\n+          password: ${{ secrets.CAFE24_FTP_PASSWORD }}  # FTP 비밀번호\r\n+          local-dir: ./my-portfolio/dist/               # 빌드 결과물\r\n+          server-dir: /www/                             # 서버 루트\r\n+          dangerous-clean-slate: false                  # 기존 파일 삭제 안 함\r\n+          git-ftp-args: --ftp-create-dirs              # 폴더가 없으면 자동 생성\r\n"
                }
            ],
            "date": 1757859092418,
            "name": "Commit-0",
            "content": "name: Deploy React App to Cafe24 via FTP\r\n\r\non:\r\n  push:\r\n    branches:\r\n      - main   # main 브랜치에 push 될 때 실행\r\n\r\njobs:\r\n  build-and-deploy:\r\n    runs-on: ubuntu-latest\r\n\r\n    steps:\r\n      - name: Checkout repository\r\n        uses: actions/checkout@v3\r\n\r\n      - name: Setup Node.js\r\n        uses: actions/setup-node@v3\r\n        with:\r\n          node-version: 18\r\n\r\n      - name: Install dependencies\r\n        run: npm install\r\n        working-directory: ./my-portfolio\r\n\r\n      - name: Build project\r\n        run: npm run build\r\n        working-directory: ./my-portfolio\r\n\r\n      - name: Copy 404.html\r\n        working-directory: ./my-portfolio\r\n        run: cp dist/index.html dist/404.html\r\n\r\n      # React Router SPA를 위해 index.html을 404.html로 복사\r\n      - name: Handle React Router SPA\r\n        run: cp dist/index.html dist/404.html\r\n\r\n      - name: Deploy to Cafe24 via FTP\r\n        uses: SamKirkland/FTP-Deploy-Action@v4.3.4\r\n        with:\r\n          server: ${{ secrets.FTP_SERVER }}\r\n          username: ${{ secrets.FTP_USERNAME }}\r\n          password: ${{ secrets.FTP_PASSWORD }}\r\n          local-dir: ./dist/               # Vite 빌드 결과물\r\n          server-dir: /www/                # 카페24 서버 경로 (확인 필요)\r\n          dangerous-clean-slate: true      # 서버 폴더 싹 지우고 업로드 (선택)\r\n"
        }
    ]
}